!function(){"use strict";customElements.get("complementary-products")||customElements.define("complementary-products",class extends HTMLElement{constructor(){super()}connectedCallback(){new IntersectionObserver(((t,e)=>{t[0].isIntersecting&&(e.unobserve(this),this.hasAttribute("data-url")&&""!==this.getAttribute("data-url")&&fetch(this.getAttribute("data-url")).then((t=>t.text())).then((t=>{const e=document.createElement("div");e.innerHTML=t;const n=e.querySelector("complementary-products");n&&n.innerHTML.trim().length&&(this.innerHTML=n.innerHTML),this.initComplementarySlider()})).catch((t=>{console.error(t)})))}).bind(this),{rootMargin:"0px 0px 400px 0px"}).observe(this)}initComplementarySlider(){const t=this.querySelector("[data-complementary-slider]");if(!t)return;const e=this.querySelectorAll(".complementary-products__item");if(e.length>1){const n=new window.theme.Flickity(t,{wrapAround:!0,pageDots:!0,adaptiveHeight:!0,prevNextButtons:!1,on:{ready:()=>{e.forEach((t=>{if(!t.classList.contains("is-selected")){const e=t.querySelectorAll("a, button");e.length&&e.forEach((t=>{t.setAttribute("tabindex","-1")}))}}))}}});n.on("change",(t=>{n.cells.forEach(((e,n)=>{const r=e.element.querySelectorAll("a, button");r.length&&r.forEach((e=>{e.setAttribute("tabindex",n===t?"0":"-1")}))}))}))}}})}();
