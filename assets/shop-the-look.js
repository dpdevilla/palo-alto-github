!function(){"use strict";customElements.get("stl-hotspots")||customElements.define("stl-hotspots",class extends HTMLElement{static observedAttributes=["class"];constructor(){super(),this.initialOpen=this.hasAttribute("data-stl-initial-open")}get items(){return[...this.querySelectorAll("[data-stl-hotspots-item]")]}get targets(){return[...this.querySelectorAll("[data-stl-hotspots-target]")]}get triggers(){return[...this.querySelectorAll("[data-stl-hotspots-trigger]")]}attributeChangedCallback(t,e,s){const i="class"===t,a=s.includes("aos-animate");let o=!0;e&&e.includes("aos-animate")&&(o=!1),i&&a&&o&&this.animate()}connectedCallback(){this.animationsTimeout=null,this.resetAnimations=!1,this.init(),this.listen()}init(){theme.settings.animationsEnabled||this.animate(),this.initialOpen||this.focusables()}listen(){this.targets.forEach((t=>{t.addEventListener("click",(t=>{const e=this.targets.indexOf(t.target);this.select(e),this.restoreAnimations()}))})),this.triggers.forEach((t=>{t.addEventListener("click",(t=>{const e=this.triggers.indexOf(t.target);this.targets[e].dispatchEvent(new Event("click"))}))})),this.addEventListener("keyup",(t=>this.onKeyup(t)))}animate(){if(!this.initialOpen)return;let t=600;Shopify.designMode&&(t=300),this.resetAnimations||setTimeout((()=>this.select(0)),t)}removeAnimations(){this.items.forEach((t=>{t.style.setProperty("--duration","0s"),t.classList.add("block-selected")})),this.resetAnimations=!0}restoreAnimations(){Shopify.designMode&&(this.items.forEach((t=>t.classList.remove("block-selected"))),this.animationsTimeout=setTimeout((()=>{this.items.forEach((t=>{t.style.removeProperty("--duration")})),this.resetAnimations=!1}),1e3))}deselectAll(t=!1){this.items.forEach(((e,s)=>{e.classList.remove("is-active"),0===s&&this.initialOpen&&t&&!this.resetAnimations&&e.classList.add("is-active")})),setTimeout((()=>this.focusables()))}select(t){this.items.forEach(((e,s)=>{e.setAttribute("aria-current",t===s?"true":"false"),e.classList.toggle("is-active",t===s)})),this.focusables()}focusables(){this.items.forEach(((t,e)=>{const s=t.classList.contains("is-active"),i=s?"0":"-1",a=!!s;t.querySelectorAll("[data-product-block] a, [data-product-block] button").forEach((t=>t.setAttribute("tabindex",i))),this.targets[e].setAttribute("aria-expanded",a)}))}onKeyup(t){t.code===theme.keyboardKeys.ESCAPE&&(this.deselectAll(),t.target.closest("[data-stl-hotspots-item]").querySelector("[data-stl-hotspots-target]").focus())}}),customElements.get("shop-the-look")||customElements.define("shop-the-look",class extends HTMLElement{constructor(){super()}get hotspots(){return this.querySelector("stl-hotspots")}connectedCallback(){this.hotspots&&this.addEventListener("click",(t=>{Boolean(null!==t.target.closest("[data-stl-hotspots-item]"))||(this.hotspots.deselectAll(),this.hotspots.restoreAnimations())}))}disconnectedCallback(){}})}();
