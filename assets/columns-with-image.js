!function(){"use strict";customElements.get("columns-slider")||customElements.define("columns-slider",class extends HTMLElement{constructor(){super(),this.flkty=null,this.gutter=0,this.checkSlidesSizeOnResize=()=>this.checkSlidesSize()}connectedCallback(){this.checkSlidesSize(),document.addEventListener("theme:resize:width",this.checkSlidesSizeOnResize)}initSlider(){this.classList.remove("carousel--inactive"),this.flkty=new window.theme.Flickity(this,{pageDots:!1,cellAlign:"left",groupCells:!0,contain:!0,on:{ready:()=>{this.setSliderArrowsPosition(this),setTimeout((()=>{this.changeTabIndex(),this.flkty.resize()}),0)},change:()=>{this.changeTabIndex()}}}),this.createResizeClass()}createResizeClass(){if("function"==typeof window.theme.Flickity.prototype._createResizeClass)return;window.theme.Flickity.prototype._createResizeClass=function(){this.element.classList.add("carousel--resize")},window.theme.Flickity.createMethods.push("_createResizeClass");const e=window.theme.Flickity.prototype.resize;window.theme.Flickity.prototype.resize=function(){this.element.classList.remove("carousel--resize"),e.call(this),this.element.classList.add("carousel--resize")}}destroySlider(){this.classList.add("carousel--inactive"),null!==this.flkty&&(this.flkty.destroy(),this.flkty=null)}checkSlidesSize(){const e=this.querySelector("[data-slider-item]").currentStyle||window.getComputedStyle(this.querySelector("[data-slider-item]"));this.gutter=parseInt(e.marginRight);const t=this.offsetWidth<this.getItemsWidth();window.innerWidth>=theme.sizes.small&&t?this.initSlider():this.destroySlider()}changeTabIndex(){const e=this.flkty.selectedIndex;this.flkty.slides.forEach(((t,i)=>{t.cells.forEach((t=>{t.element.querySelectorAll("a, button").forEach((t=>{t.setAttribute("tabindex",e===i?"0":"-1")}))}))}))}getItemsWidth(){let e=0;const t=this.querySelectorAll("[data-slider-item]");return t.length&&t.forEach((t=>{e+=t.offsetWidth+this.gutter})),e}setSliderArrowsPosition(e){const t=e.querySelectorAll(".flickity-button"),i=e.querySelectorAll("[data-media-container]");let s=0;i.forEach((e=>{e.offsetHeight>s&&(s=e.offsetHeight)})),t.length&&s>0&&t.forEach((e=>{e.style.top=s/2+"px"}))}disconnectedCallback(){document.removeEventListener("theme:resize:width",this.checkSlidesSizeOnResize)}})}();
