!function(){"use strict";customElements.get("countdown-timer")||customElements.define("countdown-timer",class extends HTMLElement{constructor(){super(),this.section=this.closest("[data-section-type]"),this.shopifySection=this.closest(".shopify-section"),this.productTimer=this.closest("[data-product-timer]"),this.expirationBehavior=this.getAttribute("data-expiration-behavior"),this.leadingZero=this.hasAttribute("data-leading-zero"),this.time=this.querySelector("time"),this.endDate=Date.parse(this.time.dateTime),this.days=this.querySelector("[data-days]"),this.hours=this.querySelector("[data-hours]"),this.minutes=this.querySelector("[data-minutes]"),this.seconds=this.querySelector("[data-seconds]"),this.daysInMs=864e5,this.hoursInMs=this.daysInMs/24,this.minutesInMs=this.hoursInMs/60,this.secondsInMs=this.minutesInMs/60,this.isLoading=!0,this.shouldHideOnComplete="hide"===this.expirationBehavior,this.shouldShowMessage="show-message"===this.expirationBehavior,this.isAnimated=!1,this.update=this.update.bind(this)}connectedCallback(){this.init()}disconnectedCallback(){this.stopTimer()}init(){isNaN(this.endDate)||this.endDate<=Date.now()?this.onComplete():(this.section.classList.contains("countdown")&&this.onLoad(!0),this.interval=setInterval(this.update,1e3))}stopTimer(){clearInterval(this.interval)}convertTime(t){const s=this.formatDigits(parseInt(t/this.daysInMs,10));t-=s*this.daysInMs;const i=this.formatDigits(parseInt(t/this.hoursInMs,10));t-=i*this.hoursInMs;const e=this.formatDigits(parseInt(t/this.minutesInMs,10));t-=e*this.minutesInMs;return{days:s,hours:i,minutes:e,seconds:this.formatDigits(parseInt(t/this.secondsInMs,10))}}formatDigits(t){return t<10&&this.leadingZero&&(t="0"+t),t}render(t){this.days.textContent=t.days,this.hours.textContent=t.hours,this.minutes.textContent=t.minutes,this.seconds.textContent=t.seconds}onComplete(){this.render({days:0,hours:0,minutes:0,seconds:0}),this.shouldHideOnComplete&&!window.Shopify.designMode&&(this.productTimer?this.productTimer.remove():this.shopifySection.remove(),document.dispatchEvent(new CustomEvent("theme:parallax:refresh"))),this.shouldShowMessage&&this.classList.add("countdown-timer--show-message")}triggerAnimations(){"false"!=theme.settings.animations&&this.section.querySelectorAll("[data-aos]").forEach((t=>{this.isAnimated&&t.classList.add("aos-animate")}))}removeAnimations(){this.section.querySelectorAll("[data-aos]").forEach((t=>{requestAnimationFrame((()=>{t.classList.contains("aos-animate")&&(t.classList.remove("aos-animate"),this.isAnimated=!0)}))}))}onLoad(t){t?this.removeAnimations():(this.isLoading=!1,this.triggerAnimations())}update(){const t=Date.now(),s=this.endDate-t;if(s<=0)return this.stopTimer(),void this.onComplete();const i=this.convertTime(s);this.render(i),this.isLoading&&this.onLoad(!1)}})}();
