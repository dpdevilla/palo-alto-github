!function(){"use strict";customElements.get("social-gallery-slider")||customElements.define("social-gallery-slider",class extends HTMLElement{constructor(){super(),this.flkty=null,this.onResizeCallback=()=>this.onResize()}connectedCallback(){this.handleSliderState(),this.listen()}onResize(){this.handleSliderState(),null!==this.flkty&&(this.flkty.resize(),this.flkty.size.width>=this.flkty.slideableWidth&&this.destroySlider())}handleSliderState(){const e=this.querySelectorAll("[data-slide]");!this.classList.contains("carousel--inactive")||window.theme.isMobile()?1===e.length&&window.theme.isMobile()?this.destroySlider():(this.flkty||this.initSlider(),this.flkty.slideableWidth<this.flkty.size.width&&this.destroySlider()):this.destroySlider()}initSlider(){const e=this.classList.contains("text-center");this.classList.remove("carousel--inactive"),this.flkty=new window.theme.Flickity(this,{cellSelector:"[data-slide]",prevNextButtons:!0,pageDots:!0,groupCells:!0,cellAlign:e?"center":"left",contain:!0,adaptiveHeight:!1,draggable:!0,on:{ready:()=>{this.slidesTabIndex()},change:()=>{this.slidesTabIndex()}}}),this.createResizeClass()}createResizeClass(){if("function"==typeof window.theme.Flickity.prototype._createResizeClass)return;window.theme.Flickity.prototype._createResizeClass=function(){this.element.classList.add("carousel--resize")},window.theme.Flickity.createMethods.push("_createResizeClass");const e=window.theme.Flickity.prototype.resize;window.theme.Flickity.prototype.resize=function(){this.element.classList.remove("carousel--resize"),e.call(this),this.element.classList.add("carousel--resize")}}slidesTabIndex(){window.theme.Flickity.data(this).cells.forEach((e=>{let t="-1";e.element.classList.contains("is-selected")&&(t="0"),e.element.querySelectorAll("a, button").forEach((e=>{e.setAttribute("tabindex",t)}))}))}destroySlider(){this.classList.contains("flickity-enabled")&&(this.classList.contains("carousel")&&this.classList.add("carousel--inactive"),null!==this.flkty&&(this.flkty.destroy(),this.flkty=null))}listen(){document.addEventListener("theme:resize:width",this.onResizeCallback)}disconnectedCallback(){document.removeEventListener("theme:resize:width",this.onResizeCallback)}})}();
