!function(){"use strict";customElements.get("custom-content-slider")||customElements.define("custom-content-slider",class extends HTMLElement{constructor(){super(),this.checkSliderOnResize=()=>this.checkSlider(),this.resizeSliderEvent=()=>this.resizeSlider(),this.flkty=null}connectedCallback(){this.checkSlider(),document.addEventListener("theme:resize:width",this.checkSliderOnResize),this.addEventListener("theme:slider:resize",this.resizeSliderEvent)}checkSlider(){if(window.innerWidth>=theme.sizes.small)return this.initProductSlider(),void requestAnimationFrame((()=>{this.dispatchEvent(new CustomEvent("theme:slider:resize",{bubbles:!0}))}));this.destroyProductSlider()}changeTabIndex(){const e=this.flkty.selectedIndex;this.flkty.slides.forEach(((t,i)=>{t.cells.forEach((t=>{t.element.querySelectorAll("a, button").forEach((t=>{t.setAttribute("tabindex",e===i?"0":"-1")}))}))}))}initProductSlider(){this.querySelectorAll("[data-slide]").length>1&&(this.flkty=new window.theme.Flickity(this,{prevNextButtons:!0,adaptiveHeight:!0,pageDots:!0,wrapAround:!0,on:{ready:()=>{this.setSliderArrowsPosition(),setTimeout((()=>{this.changeTabIndex()}),0)},change:()=>{this.changeTabIndex()}}}))}destroyProductSlider(){null!==this.flkty&&this.flkty.destroy()}setSliderArrowsPosition(){const e=this.querySelectorAll(".flickity-button"),t=this.querySelector("[data-product-media-container]");e.length&&t&&e.forEach((e=>{e.style.top=t.offsetHeight/2+"px"}))}resizeSlider(){null!==this.flkty&&(this.flkty.resize(),requestAnimationFrame((()=>this.setSliderArrowsPosition())))}disconnectedCallback(){document.removeEventListener("theme:resize:width",this.checkSliderOnResize),this.removeEventListener("theme:slider:resize",this.resizeSliderEvent)}})}();
